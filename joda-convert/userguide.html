
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2024-10-05
 Rendered using Reflow Maven Skin 1.2 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Joda-Convert &#x2013; User guide</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="//netdna.bootstrapcdn.com/bootswatch/2.3.2/cosmo/bootstrap.min.css" rel="stylesheet" />
		<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="./css/bootswatch.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />

		<link href="//yandex.st/highlightjs/7.5/styles/github.min.css" rel="stylesheet" />


		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"/>
        <link rel="author" href="https://plus.google.com/113137868744510231215"/>

		<!-- Google Analytics -->
		<script type="text/javascript">

			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-1425975-4']);
			_gaq.push(['_trackPageview']);

			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();

		</script>
		</head>

	<body class="page-userguide project-joda-convert" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="index.html">Joda-Convert</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="index.html" title="Home">Home</a></li>
									<li class="active"><a href="" title="User guide">User guide</a></li>
									<li ><a href="apidocs/index.html" title="Javadoc">Javadoc</a></li>
									<li ><a href="licenses.html" title="License">License</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Releases <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="changes-report.html" title="Release notes">Release notes</a></li>
									<li ><a href="dependency-info.html" title="Dependency info">Dependency info</a></li>
									<li ><a href="download.html" title="Download">Download</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Development <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="https://github.com/JodaOrg/joda-convert" title="GitHub" class="externalLink">GitHub</a></li>
									<li ><a href="https://github.com/JodaOrg/joda-convert/issues" title="Bugs/Issues" class="externalLink">Bugs/Issues</a></li>
									<li ><a href="surefire-report.html" title="Test results">Test results</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Joda <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../" title="Home">Home</a></li>
									<li ><a href="../joda-beans/" title="Beans">Beans</a></li>
									<li ><a href="../joda-money/" title="Money">Money</a></li>
									<li ><a href="../joda-time/" title="Time">Time</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">For Enterprise <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="enterprise.html" title="Tidelift">Tidelift</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<section> 
 <h2 id="User_guide">User guide</h2> 
 <p>Joda-Convert is intended for one simple task - Converting objects to and from strings. This is a common problem, particularly when communicating over textual protocols like XML or JSON.</p>
</section>
<section> 
 <h2 id="Basic_usage">Basic usage</h2> 
 <p>Using Joda-Convert is easy at the simplest level. The main access is via the class <a href="apidocs/org.joda.convert/org/joda/convert/StringConvert.html"><code>StringConvert</code></a>.</p> 
 <p>The easiest way to use the conversion is via the global constant:</p> 
 <div class="source"> 
  <pre><code>// conversion to a String
TimeZone zone = ...
String str = StringConvert.INSTANCE.convertToString(zone);

// conversion from a String
TimeZone zone = StringConvert.INSTANCE.convertFromString(TimeZone.class, str);
</code></pre>
 </div> 
 <p>In both cases, if the input is <code>null</code> then the output will also be <code>null</code>.</p> 
 <p>The global constant is quick and easy to use, but is shared between all users in the <code>ClassLoader</code>. It also cannot be extended.</p> 
 <p>The alternative approach is to instantiate your own instance of <code>StringConvert</code>. This would normally be stored in your own static variable, or made available as needed by dependency injection. This may be updated by registering your own converters.</p>
</section>
<section> 
 <h2 id="Converters">Converters</h2> 
 <p>Each instance of <code>StringConvert</code>, including the global singleton, includes a standard set of JDK-based converters. These cover all the standard JDK types for which conversion to and from a string is sensible. The set also includes JSR-310 types, but these are optional and loaded by reflection. The system will run without any dependency.</p> 
 <p>The JDK conversions are generally obvious. The types are as follows:</p> 
 <ul> 
  <li>String</li> 
  <li>CharSequence</li> 
  <li>StringBuffer</li> 
  <li>StringBuilder</li> 
  <li>long and Long</li> 
  <li>int and Integer</li> 
  <li>short and Short</li> 
  <li>char and Character</li> 
  <li>byte and Byte</li> 
  <li>double and Double</li> 
  <li>float and Float</li> 
  <li>boolean and Boolean - ‘true’ or ‘false’</li> 
  <li>byte[] - using Base-64 encoding</li> 
  <li>char[]</li> 
  <li>BigInteger</li> 
  <li>BigDecimal</li> 
  <li>AtomicLong</li> 
  <li>AtomicInteger</li> 
  <li>AtomicBoolean - ‘true’ or ‘false’</li> 
  <li>Locale - separated by underscores, en_GB_VARIANT</li> 
  <li>Class - using the class name, using the rename handler</li> 
  <li>Package - using the package name</li> 
  <li>Currency - using the three letter code</li> 
  <li>TimeZone - using the ID</li> 
  <li>UUID - using the toString() form</li> 
  <li>URL - using the toString() form</li> 
  <li>URI - using the toString() form</li> 
  <li>InetAddress - using the host address</li> 
  <li>File - using the toString() form</li> 
  <li>Date - yyyy-MM-dd'T'HH:mm:ss.SSSZ</li> 
  <li>Calendar - yyyy-MM-dd'T'HH:mm:ss.SSSZ, Gregorian only</li> 
  <li>Instant</li> 
  <li>Duration</li> 
  <li>LocalDate</li> 
  <li>LocalTime</li> 
  <li>LocalDateTime</li> 
  <li>OffsetTime</li> 
  <li>OffsetDateTime</li> 
  <li>ZonedDateTime</li> 
  <li>Year</li> 
  <li>YearMonth</li> 
  <li>MonthDay</li> 
  <li>Period</li> 
  <li>ZoneOffset</li> 
  <li>ZoneId</li> 
  <li>Enum subclasses - using name(), annotations can override</li> 
 </ul> 
 <p>Note that the JSR-310 date types are supported in three different package namespaces - ‘java.time’, ‘javax.time’ and ‘org.threeten.bp’.</p> 
 <p>Each <code>StringConvert</code> instance, other than the global singleton, may have additional converters registered manually. Each converter implements the <a href="apidocs/org.joda.convert/org/joda/convert/StringConverter.html"><code>StringConverter</code></a> interface, which is self explanatory.</p> 
 <p>Converters may also be manually added by method name. This is equivalent to using annotations, but suitable when you don't own the code to add them. See <code>StringConvert.registerMethods</code> and <code>StringConvert.registerMethodConstructor</code>.</p>
</section>
<section> 
 <h2 id="Factories">Factories</h2> 
 <p>In addition to manual registration of individual converters, each instance of <code>StringConvert</code> has a list of factories to use. The <a href="apidocs/org.joda.convert/org/joda/convert/StringConverterFactory.html"><code>StringConverterFactory</code></a> interface defines the factory. This allows either bulk registration or dynamic lookup of converters.</p> 
 <p>A factory is provided to allow numeric arrays to be converted to/from a comma separated list. A separate factory handles numeric object arrays. Another factory is provided to allow boolean arrays to be converted to/from a string such as ‘TTFFT’. Again, a separate factory handles boolean object arrays. Primitive byte and char arrays are handled by default, but the primitive object arrays are handled via their own factories.</p> 
 <p>These extra factories must be manually registered, unless the <code>StringConvert.create()</code> static method is used, which defines an “extended” converter with the factories included.</p>
</section>
<section> 
 <h2 id="Annotation_based_conversion">Annotation based conversion</h2> 
 <p>If there is no registered converter for a type, then a search by annotation is performed. This will search for the <a href="apidocs/org.joda.convert/org/joda/convert/ToString.html"><code>ToString</code></a> and <a href="apidocs/org.joda.convert/org/joda/convert/FromString.html"><code>FromString</code></a> annotation on the type. These annotations will indicate which method should be called to perform the conversion.</p> 
 <div class="source"> 
  <pre><code>public class Distance {

  @FromString
  public static Distance parse(String str) { ... }

  @ToString
  public String getStandardOutput() { ... }

}
</code></pre>
 </div> 
 <p>To be valid, the class must contain one <code>ToString</code> annotation and one <code>FromString</code> annotation. The <code>ToString</code> annotation must be an instance method taking no parameters and returning a String. The <code>FromString</code> annotation must be either a static method or a constructor taking a String parameter and returning the correct type. If the annotations are not found on the target class, then superclasses are searched, followed by immediate parent interfaces.</p> 
 <p>Sometimes, you want to provide to/from string conversions for interfaces. In Java SE 8 this can be done using static methods on interfaces. However in earlier versions, a separate “factory” class is necessary. This can also be annotated:</p> 
 <div class="source"> 
  <pre><code>@FromStringFactory(factory = DistanceFactory.class)
public interface Distance {

  @ToString
  String standardFormat();

}

public class Metres implements Distance {

  @Override
  public String standardFormat() { ... }

}

public class DistanceFactory {

  @FromString
  public static Distance parseDistance(String str) { ... }

}
</code></pre>
 </div> 
 <p>The <a href="apidocs/org.joda.convert/org/joda/convert/FromStringFactory.html"><code>FromStringFactory</code></a> annotation points at the factory class that will provide the factory method. Although intended for use with interfaces, it can also be used on the target class or any superclass. Note that only the immediate parent interfaces of a class will be searched.</p> 
 <p>The effective type of the converter in use is the type that declares the <code>FromString</code> or <code>FromStringFactory</code> annotation. This can be used by serialization systems to determine the best type of the value to send. One use case is to declare annotations on a public superclass and have all the subclasses be package scoped. Using the effective type, the package scoped subclasses remain out of the serialized form and off the public API.</p>
</section>
<section> 
 <h2 id="Rename_handler">Rename handler</h2> 
 <p>Most large bodies of code will end up renaming classes and enum constants at some point. The <a href="apidocs/org.joda.convert/org/joda/convert/RenameHandler.html"><code>RenameHandler</code></a> class provides a convenient central place to track this.</p> 
 <p>If the <code>RenameHandler</code> is setup with details of a rename, then an old class name or enum constant can be read in and will be automatically converted.</p>
</section>
<section> 
 <h2 id="Rationale">Rationale</h2> 
 <p>The concept is that other open source libraries, as well as your application code, will implement these two annotations. For open source projects, a key point is that adding the annotations is a compile-time only event. The Joda-Convert jar file is not needed by your users unless they want to use conversion. If they don't want to use Joda-Convert then the annotations are effectively ignored.</p> 
 <p>The following projects are supported by Joda-Convert annotations:</p> 
 <ul> 
  <li><a class="externalLink" href="https://www.joda.org/joda-time/">Joda-Time</a></li> 
  <li><a class="externalLink" href="https://www.joda.org/joda-money/">Joda-Money</a></li> 
  <li><a class="externalLink" href="https://www.threeten.org/threeten-extra/">ThreeTen-Extra</a></li> 
 </ul> 
 <p>The Joda-Convert dependency is optional at runtime for users of the projects. (Note that Scala does not honour the optional behaviour.)</p>
</section>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Documentation</li>
						<li >
							<a href="index.html" title="Home">Home</a>
						</li>
						<li class="active">
							<a href="#" title="User guide">User guide</a>
						</li>
						<li >
							<a href="apidocs/index.html" title="Javadoc">Javadoc</a>
						</li>
						<li >
							<a href="licenses.html" title="License">License</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Releases</li>
						<li >
							<a href="changes-report.html" title="Release notes">Release notes</a>
						</li>
						<li >
							<a href="dependency-info.html" title="Dependency info">Dependency info</a>
						</li>
						<li >
							<a href="download.html" title="Download">Download</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Development</li>
						<li >
							<a href="https://github.com/JodaOrg/joda-convert" title="GitHub" class="externalLink">GitHub</a>
						</li>
						<li >
							<a href="https://github.com/JodaOrg/joda-convert/issues" title="Bugs/Issues" class="externalLink">Bugs/Issues</a>
						</li>
						<li >
							<a href="surefire-report.html" title="Test results">Test results</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Reports</li>
						<li >
							<a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
						</li>
						<li >
							<a href="project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote>Round-trip Object to String conversion for Java</blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2010-2024 <a href="https://www.joda.org">Joda.org</a>. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 3.0.0. </span><span class="publishDate">Last Published: 2024-10-05. </span></p>
				<p><a href="https://github.com/JodaOrg/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="//yandex.st/highlightjs/7.5/highlight.min.js"></script>

	<script src="./js/reflow-skin.js"></script>

	</body>
</html>

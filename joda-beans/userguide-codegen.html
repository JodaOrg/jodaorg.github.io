
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2017-09-20
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Joda-Beans &#x2013; User guide - Code generation</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://netdna.bootstrapcdn.com/bootswatch/2.3.2/cosmo/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="./css/bootswatch.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />

		<link href="http://yandex.st/highlightjs/7.5/styles/github.min.css" rel="stylesheet" />


		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css"/>
<link rel="author" href="https://plus.google.com/113137868744510231215"/>
		<!-- Google Analytics -->
		<script type="text/javascript">

			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-1425975-4']);
			_gaq.push(['_trackPageview']);

			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();

		</script>
		</head>

	<body class="page-userguide-codegen project-joda-beans" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="index.html">Joda-Beans</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="index.html" title="Home">Home</a></li>
									<li ><a href="userguide.html" title="User guide">User guide</a></li>
									<li ><a href="related.html" title="Related projects">Related projects</a></li>
									<li ><a href="apidocs/index.html" title="Javadoc">Javadoc</a></li>
									<li ><a href="licensecover.html" title="License">License</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Releases <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="changes-report.html" title="Release notes">Release notes</a></li>
									<li ><a href="dependency-info.html" title="Dependency info">Dependency info</a></li>
									<li ><a href="download.html" title="Download">Download</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Development <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="https://github.com/JodaOrg/joda-beans" title="GitHub" class="externalLink">GitHub</a></li>
									<li ><a href="https://github.com/JodaOrg/joda-beans/issues" title="Bugs/Issues" class="externalLink">Bugs/Issues</a></li>
									<li ><a href="surefire-report.html" title="Test results">Test results</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Joda <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../" title="Home">Home</a></li>
									<li ><a href="../joda-convert/" title="Convert">Convert</a></li>
									<li ><a href="../joda-money/" title="Money">Money</a></li>
									<li ><a href="../joda-time/" title="Time">Time</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<div class="section"> 
 <h2 id="User_guide_-_Code_generation">User guide - Code generation</h2> 
 <p>This part of the user guide provides information on code generation of beans. See the <a href="userguide.html">main user guide</a> for a higher level introduction.</p>
</div> 
<div class="section"> 
 <h2 id="Code_generator">Code generator</h2> 
 <p>It is possible to write a Joda-Bean by hand - they are just normal Java interfaces defining an API for beans. There are some base classes that assist as well as some standard map-based implementations, notably <a href="apidocs/org/joda/beans/impl/flexi/FlexiBean.html">FlexiBean</a>. It is more common to use the code generator, however the generator is optional.</p> 
 <p>A code generated Joda-Bean minimises the amount of code that the developer has to write. The developer simply creates an outline class and adds the properties (fields). The code generator then produces all the getters and setters, plus additional helper methods.</p> 
 <p>Here is an example <tt>UserAccount</tt> class showing the parts that a developer has to write:</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>@BeanDefinition
public final class UserAccount implements Bean {

    /** The user identifier. */
    @PropertyDefinition(validate = &quot;notEmpty&quot;)
    private String userId;

    /** The email address. */
    @PropertyDefinition(validate = &quot;notEmpty&quot;)
    private String emailAddress;

    /** The number of logins. */
    @PropertyDefinition
    private int numberLogins;

    /** The last login instant. */
    @PropertyDefinition(validate = &quot;notNull&quot;)
    private Date lastLogin;
}
</pre>
  </div>
 </div> 
 <p>The code generator will create getters, setters, equals, hashCode, toString, metaBean and properties. To see the generated code for this class, <a class="externalLink" href="https://github.com/JodaOrg/joda-beans/blob/v1.4/src/test/java/org/joda/beans/gen/UserAccount.java#L34">click here</a>.</p> 
 <p>Note that the equals, hashCode and toString methods are only generated if they do not exist already. As such, it is easy to write your own versions of these methods if necessary.</p>
</div> 
<div class="section"> 
 <h2 id="Using_the_code_generator">Using the code generator</h2> 
 <p>The code generator must be invoked before compilation as it generates Java source code. It cannot operate at runtime, as the getters and setters that are generated must be available for developers writing the main part of the application.</p> 
 <p>The code generator operates by creating a portion of the source file marked by “AUTOGENERATED START” and “AUTOGENERATED END” tags (when first run, if the tags are not present, it will create the block at the end of the file). The generator only ever changes code within the marked block, apart from imports which it inserts if it determines they are necessary. Limiting the generation to a fixed part of the file means that developers can customise the rest of the Java file in any way that is desired, such as adding constructors and methods.</p> 
 <p>The generator has the following requirements:</p> 
 <ul> 
  <li>The class must be annotated with <a href="apidocs/org/joda/beans/BeanDefinition.html">BeanDefinition</a></li> 
  <li>The class must implement the <a href="apidocs/org/joda/beans/Bean.html">Bean</a> interface, or extend a class that does. At one time it was mandatory to subclass <a href="apidocs/org/joda/beans/impl/direct/DirectBean.html">DirectBean</a> but that is no longer recommended</li> 
  <li>The class must be a normal top-level class, nested/inner classes and multiple classes per file are not supported</li> 
  <li>Each property field must be annotated with <a href="apidocs/org/joda/beans/PropertyDefinition.html">PropertyDefinition</a></li> 
  <li>Each property field must be be private</li> 
  <li>The Javadoc of each property field should normally start with the word “The”.</li> 
 </ul> 
 <p>The command line takes the following arguments:</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>  Usage java org.joda.beans.gen.BeanCodeGen [file]
  Options
    -R                process all files recursively, default false
    -indent=tab       use a tab for indenting, default 4 spaces
    -indent=[n]       use n spaces for indenting, default 4
    -prefix=[p]       field prefix of p should be removed, no default
    -config=[f]       config file: 'jdk'/'guava', default guava
    -style=[s]        default bean style: 'light'/'minimal'/'full', default smart
    -verbose=[v]      output logging with verbosity from 0 to 3, default 1
    -nowrite          output messages rather than writing, default is to write
</pre>
  </div>
 </div> 
 <p>The prefix is useful for teams that have a coding standard where fields must be prefixed, such as by an underscore or a letter. Specifying it to the generator allows that prefix to be stripped before generating the property name.</p> 
 <p>The code generator works by reading the source file and parsing it to memory. The parser is deliberately simplistic and will reject complex files or unusual code formatting styles. The generator processes the annotated properties and replaces the auto-generated section of the file in memory. It then compares the newly generated file with the original and only if they are different is the new file written to the file system. The generator will make use of property comments and will respect and propagate deprecated annotations. It is reasonably intelligent - final fields will become read-only properties, most collections and maps are sensibly handled and booleans generate “is” methods rather than “get” methods. Simple generics are also handled.</p> 
 <p>The generator must be invoked every time that the source file is changed. Failure to do so (such as by using an IDE refactoring) could leave the auto-generated block in an invalid state. Normally the generator will be invoked from the IDE or a build tool, see the <a class="externalLink" href="https://github.com/JodaOrg/joda-beans-maven-plugin">Maven plugin</a>.</p> 
 <p>The code generator only parses and outputs based on a single source Java file. It does not require the file to compile and never knows that “String” actually means “java.lang.String”. In other words, the type system in the generator is totally dumb and based solely on the short simple class name.</p>
</div> 
<div class="section"> 
 <h2 id="Customisation">Customisation</h2> 
 <p>The generator has a limited set of customisations to the core part of the generation.</p> 
 <p>One key set of control is provided by <a href="apidocs/org/joda/beans/PropertyDefinition.html">@PropertyDefinition</a>.</p> 
 <p>The style of getter can be controlled using the annotation parameter “get”. In most cases, the default “smart” setting is sufficient:</p> 
 <ul> 
  <li>&quot;&quot; - do not generate any form of getter</li> 
  <li>“smart” - process intelligently, using “is” for <tt>boolean</tt> and “get” for other types</li> 
  <li>“private” - process as per “smart” but set scope as private</li> 
  <li>“package” - process as per ‘smart’ but set scope as package/default</li> 
  <li>“protected” - process as per “smart” but set scope as protected</li> 
  <li>“is” - generates <tt>isXxx()</tt></li> 
  <li>“get” - generates <tt>getXxx()</tt></li> 
  <li>“clone” - generates <tt>getXxx()</tt> with a clone of the field (assumed to be of the correct type)</li> 
  <li>“cloneCast” - generates <tt>getXxx()</tt> with a clone of the field with a cast to the property type</li> 
  <li>“optional” - generate <tt>getXxx()</tt> returning a Java 8 <tt>Optional</tt> wrapper around the field, where the field itself is nullable instead of optional. <tt>OptionalDouble</tt>, <tt>OptionalInt</tt> and <tt>OptionalLong</tt> are also handled</li> 
  <li>“optionalGuava” - generate <tt>getXxx()</tt> returning a Guava <tt>Optional</tt> wrapper around the field, where the field itself is nullable instead of optional</li> 
  <li>“field” - generates direct access to the field, enabling a weird manual getter</li> 
  <li>“manual” - a method named <tt>getXxx()</tt> must be manually provided</li> 
 </ul> 
 <p>For example, using the optional wrappers:</p> 
 <div class="source"> 
  <div class="source"> 
   <pre> @BeanDefinition
 public final class Foo implements Bean {
   @PropertyDefinition(get = &quot;optional&quot;)
   private String name;  // regular field that can hold null

   // generated getter as follows:
   public Optional&lt;String&gt; getName() {
     return Optional.ofNullable(name);
   }
 }
</pre>
  </div>
 </div> 
 <p>The style of setter can be controlled using the annotation parameter “set”. In most cases, the default “smart” setting is sufficient:</p> 
 <ul> 
  <li>&quot;’ - do not generate any form of setter</li> 
  <li>“smart” - process intelligently - uses “set” unless final, when it will use “setClearAddAll” for common list types or “setClearPutAll” for common map types and <tt>FlexiBean</tt></li> 
  <li>“private” - process as per “smart” but set scope as private</li> 
  <li>“package” - process as per ‘smart’ but set scope as package/default</li> 
  <li>“protected” - process as per “smart” but set scope as protected</li> 
  <li>“set” - generates <tt>setXxx()</tt></li> 
  <li>“setClearAddAll” - generates <tt>setXxx()</tt> using <tt>field.clear()</tt> and <tt>field.addAll(newData)</tt></li> 
  <li>“setClearPutAll” - generates <tt>setXxx()</tt> using <tt>field.clear()</tt> and <tt>field.putAll(newData)</tt></li> 
  <li>“bound” - generates a bound property with {@code PropertyChangeSupport}</li> 
  <li>“field” - generates direct access to the field, enabling a weird manual setter</li> 
  <li>“manual” - a method named <tt>setXxx()</tt> must be manually provided at package scope or greater</li> 
  <li>a pattern, see <a href="apidocs/org/joda/beans/PropertyDefinition.html#set--">Javadoc</a></li> 
 </ul> 
 <p>For example, to have a private setter:</p> 
 <div class="source"> 
  <div class="source"> 
   <pre> @BeanDefinition
 public final class Foo implements Bean {
   @PropertyDefinition(set = &quot;private&quot;)
   private String name;

   // generated setter as follows:
   private String setName() {
     this.name = name;
   }
 }
</pre>
  </div>
 </div> 
 <p>Note that support for bound properties is very basic. It only handles simple mutable properties. For more complex cases, it is necessary to write the setter manually. The PropertyChangeSupport field is generated, but not the methods to add listeners.</p> 
 <p>Validation can be specified using the annotation parameter “validate”:</p> 
 <ul> 
  <li>&quot;&quot; - do not generate any form of validation</li> 
  <li>“notNull” - checks that the value is non-null using <tt>JodaBeanUtils.notNull()</tt> which throws IllegalArgumentException</li> 
  <li>&quot;notEmpty’ - checks that a string/collection/map is non-null and non-empty using <tt>JodaBeanUtils.notEmpty()</tt> which throws IllegalArgumentException</li> 
  <li>“{staticMethodName}” - a custom validation method located on this class</li> 
  <li>“{className}.{staticMethodName}” - a custom validation method located on any class</li> 
 </ul> 
 <div class="source"> 
  <div class="source"> 
   <pre> @BeanDefinition
 public final class Foo implements Bean {
   @PropertyDefinition(validate = &quot;notNull&quot;)
   private String surname;  // generated code will ensure field is non-null
 }
</pre>
  </div>
 </div> 
 <p>The exposed type of the property can be specified using the annotation parameter “type”. For example, if the field is declared as an <tt>ArrayList</tt> but the public type of the getter/setter should be <tt>List</tt> then that can be achieved. Simply add the annotation parameter <tt>type = &quot;List&lt;&gt;&quot;</tt> (the generics are inserted during generation).</p> 
 <div class="source"> 
  <div class="source"> 
   <pre> @BeanDefinition
 public final class Foo implements Bean {
   @PropertyDefinition(type = &quot;List&lt;&gt;&quot;)
   private ArrayList&lt;String&gt; names;

   // generated getter as follows:
   public List&lt;String&gt; getNames() { ... }
 }
</pre>
  </div>
 </div> 
 <p>The exposed type of the property in the builder used for immutable beans can be specified using the annotation parameter “builderType”. For example, if the field is declared as an <tt>ImmutableList&lt;Address&gt;</tt> but the public type of the builder methods should be <tt>List&lt;? extends Address&gt;</tt> then that can be achieved. Simply add the annotation parameter <tt>builderType = &quot;List&lt;? extends Address&gt;&quot;</tt>.</p> 
 <div class="source"> 
  <div class="source"> 
   <pre> @BeanDefinition
 public final class Foo implements Bean {
   @PropertyDefinition(builderType = &quot;List&lt;? extends Address&gt;&quot;)
   private ImmutableList&lt;Address&gt; addresses;

   // generated getter as follows:
   public ImmutableList&lt;Address&gt; getAddresses() { ... }

   // generated builder method as follows:
   public Builder addresses(List&lt;? extends Address&gt; addresses) { ... }
 }
</pre>
  </div>
 </div> 
 <p>A properties getter and/or setter can be declared to override a superclass. Simply add the annotation parameter <tt>overrideGet = true</tt> or <tt>overrideSet = true</tt> and the requisite <tt>@Override</tt> annotation will be placed on the getter/setter.</p> 
 <div class="source"> 
  <div class="source"> 
   <pre> @BeanDefinition
 public final class Foo implements Bean {
   @PropertyDefinition(overrideGet = true)
   private String name;

   // generated getter as follows:
   @Override
   public String getName() { ... }
 }
</pre>
  </div>
 </div> 
 <p>A property can be given an alias, or alternate name. Simply add the annotation parameter <tt>alias = &quot;otherName&quot;</tt>. This is most useful when a property is renamed, to handle change during <a href="userguide-serialization.html">deserialization</a>.</p> 
 <p>The style of equals/hashCode/toString can be controlled using the annotation parameters “equalsHashCodeStyle” and “toStringStyle”. In most cases, the default “smart” setting is sufficient:</p> 
 <ul> 
  <li>“omit” - omit this property from equals/hashCode/toString</li> 
  <li>“smart” - process intelligently, equivalent to “field” for immutable and “getter” for mutable</li> 
  <li>“getter” - use the getter for equals/hashCode/toString</li> 
  <li>“field” - use the field for equals/hashCode/toString</li> 
 </ul>
</div> 
<div class="section"> 
 <h2 id="Derived_properties">Derived properties</h2> 
 <p>It is possible to declare a property without a matching field. For example, an “age” property could be derived from a “dateOfBirth” field.</p> 
 <p>To do this, annotate the getter of the derived property with <a href="apidocs/org/joda/beans/DerivedProperty.html">DerivedProperty</a>. Apart from the absence of a field, a derived property is very similar to a normal read-only property.</p>
</div> 
<div class="section"> 
 <h2 id="Immutable_beans">Immutable beans</h2> 
 <p>Code generated beans may be immutable.</p> 
 <p>All fields in an immutable bean must be final. It is recommended that immutable beans are final, do not extend any other bean class and directly implement <a href="apidocs/org/joda/beans/ImmutableBean.html">ImmutableBean</a>.</p> 
 <div class="source"> 
  <div class="source"> 
   <pre> @BeanDefinition
 public final class Foo implements ImmutableBean {
   // code generated immutable bean with public builder
 }
</pre>
  </div>
 </div> 
 <div class="section"> 
  <h3 id="Immutable_bean_customisation">Immutable bean customisation</h3> 
  <p>Code generated immutable beans can be customized as follows.</p> 
  <p>An immutable bean can be configured to provide additional cross-property validation. In most cases the per-property validation attribute is sufficient. When cross-property validation is needed, this technique can be used.</p> 
  <p>Simply declare a private void method taking no arguments annotated with <a href="apidocs/org/joda/beans/ImmutableValidator.html">@ImmutableValidator</a>. The method will be called during the validation phase of the constructor.</p> 
  <div class="source"> 
   <div class="source"> 
    <pre> @ImmutableValidator
 private void validate() {
   // validate the instance variables of the bean
 }
</pre>
   </div>
  </div> 
  <p>An immutable bean can be configured to apply default property values. In most cases this is not necessary, but if the bean has lots of non-null properties it may be desirable to have some default values.</p> 
  <p>Simply declare a private static void method taking one ‘Builder’ argument annotated with <a href="apidocs/org/joda/beans/ImmutableDefaults.html">@ImmutableDefaults</a>. The method will be called before the empty builder is made available for population.</p> 
  <div class="source"> 
   <div class="source"> 
    <pre> @ImmutableDefaults
 private static void applyDefaults(Builder builder) {
   // set default property values directly into the builder
 }
</pre>
   </div>
  </div> 
  <p>An immutable bean can be intercepted when the bean is being built. In most cases this is not necessary, but if the bean has a property that needs to be defaulted from another property this can be useful. In general, use of <tt>@ImmutableValidator</tt> and/or <tt>@ImmutableDefaults</tt> should be preferred.</p> 
  <p>Simply declare a private static void method taking one ‘Builder’ argument annotated with <a href="apidocs/org/joda/beans/ImmutablePreBuild.html">@ImmutablePreBuild</a>. The method will be called when <tt>build()</tt> is invoked on the builder.</p> 
  <div class="source"> 
   <div class="source"> 
    <pre> @ImmutablePreBuild
 private static void preBuild(Builder builder) {
   // query the builder and make any necessary changes
 }
</pre>
   </div>
  </div> 
  <p>The constructor of an immutable bean can be replaced. In most cases this is not necessary, but there may be occasional use cases. In general, use of <tt>@ImmutableValidator</tt> and/or <tt>@ImmutableDefaults</tt> should be preferred.</p> 
  <p>A constructor with parameters matching each property must be written and annotated with <a href="apidocs/org/joda/beans/ImmutableConstructor.html">@ImmutableConstructor</a>. It may be easier to generate the bean without the annotation and move the generated constructor out into user code, adding the annotation only at that point.</p> 
  <div class="source"> 
   <div class="source"> 
    <pre> @ImmutableConstructor
 private myBean(String surname, String forename) {
   // a constructor entirely under application control
 }
</pre>
   </div>
  </div> 
  <p>An immutable bean can be configured to cache the hash code. In most cases this is not necessary, but if the bean is used as a hash key, then it may be helpful.</p> 
  <p>Simply set the boolean ‘cacheHashCode’ flag of ‘@BeanDefinition’ to true.</p> 
  <div class="source"> 
   <div class="source"> 
    <pre> @BeanDefinition(cacheHashCode = true)
 public final class Foo implements ImmutableBean {
   // code generated immutable bean with cached hash code
 }
</pre>
   </div>
  </div> 
  <p>Immutable beans do not have set methods. Instead, a public builder class will be generated with methods to setup an instance. This supports code based manipulation, using the <tt>toBuilder()</tt> method. The scope of the builder, public private or package-scoped, may be controlled in the bean definition. The default is public for immutable beans and no-builder for mutable beans:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre> @BeanDefinition(builderScope = &quot;private&quot;)
 public final class Bar implements ImmutableBean {
   // code generated immutable bean with private builder
 }
</pre>
   </div>
  </div> 
  <p>A static factory may be created for an immutable bean. This may be instead of or in addition to the builder. The scope of the factory is always public, and it always contains all properties. Any additional customisation should involve moving the generated factory outside the autogenerated block. To create the factory, specify the method name:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre> @BeanDefinition(factoryName = &quot;of&quot;)
 public final class Bar implements ImmutableBean {
   // code generated immutable bean with static factory named &quot;of&quot;
 }
</pre>
   </div>
  </div> 
  <p>The scope of the meta-bean, public private or package-scoped, may also be controlled in the bean definition. The default is public:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre> @BeanDefinition(metaScope = &quot;package&quot;)
 public final class Bar implements ImmutableBean {
   // code generated immutable bean with package-scoped meta-bean
 }
</pre>
   </div>
  </div> 
  <p>The scope of the generated constructor for immutable beans can be controlled. The default is to be as private as possible for the needs of the builder, typically private:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre> @BeanDefinition(constructorScope = &quot;package&quot;)
 public final class Bar implements ImmutableBean {
   // code generated immutable bean with package-scoped constructor
 }
</pre>
   </div>
  </div> 
  <p>An option also exists to generate the ConstructorProperties annotation:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre> @BeanDefinition(constructorScope = &quot;public@ConstructorProperties&quot;)
 public final class Bar implements ImmutableBean {
   // code generated immutable bean with annotated public constructor
 }
</pre>
   </div>
  </div>
 </div>
</div> 
<div class="section"> 
 <h2 id="Immutable_bean_hierarchies">Immutable bean hierarchies</h2> 
 <p>It is possible for an immutable bean to be non-final. Any subclass should logically also be immutable, but must set the <tt>BeanDefinition</tt> annotation value <tt>hierarchy</tt> to “immutable”:</p> 
 <div class="source"> 
  <div class="source"> 
   <pre> // superclass
 @BeanDefinition
 public abstract class SuperFoo implements ImmutableBean {
   // code generation will enable an immutable subclass
 }
 
 // subclass
 @BeanDefinition(hierarchy = &quot;immutable&quot;)
 public final class Foo extends SuperFoo {
   // code generation will connect to superclass
   // note that there is NO 'implements ImmutableBean' on the subclass
 }
</pre>
  </div>
 </div> 
 <p>It is also possible for a bean to be partially final. In this case, the bean will implement <tt>Bean</tt> rather than <tt>ImmutableBean</tt>. To get the correct behaviour, the <tt>BeanDefinition</tt> annotation value <tt>builderScope</tt> must be set to “public”. Partially final beans can extend one another, but must all declare the builder scope.</p> 
 <p>The rules as to what works and what does not are complex. It is recommended to keep is simple, and only have normal mutable beans or final immutable beans.</p>
</div> 
<div class="section"> 
 <h2 id="Light_beans">Light beans</h2> 
 <p>It is possible to generate a very light-weight bean. This approach has no Meta class or Builder (the objects exist behind the scenes). This is the approach with the lowest code generation.</p> 
 <div class="source"> 
  <div class="source"> 
   <pre> // superclass
 @BeanDefinition(style = &quot;light&quot;)
 public final class LightBean implements ImmutableBean {
   // code generation of a light-weight immutable bean
 }
</pre>
  </div>
 </div> 
 <p>Internally, the bean uses reflection to implement the meta bean and builder. As such, it may be a little slower.</p> 
 <p>Both immutable and mutable light-weight beans can be generated.</p>
</div> 
<div class="section"> 
 <h2 id="Minimal_beans">Minimal beans</h2> 
 <p>It is possible to generate a minimal bean. This approach has no Meta class, but does have a Builder for immutable classes. This is the approach with the medium amount of code generation.</p> 
 <div class="source"> 
  <div class="source"> 
   <pre> // superclass
 @BeanDefinition(style = &quot;minimal&quot;)
 public final class MinimalBean implements ImmutableBean {
   // code generation of a minimal immutable bean
 }
</pre>
  </div>
 </div> 
 <p>Internally, the bean uses lambdas to implement the meta bean.</p> 
 <p>Both immutable and mutable minimal beans can be generated.</p>
</div> 
<div class="section"> 
 <h2 id="Test_coverage">Test coverage</h2> 
 <p>Code generated beans are great, but they have a side effect of creating lots of untested generated code. This can make the test coverage percentage produced by tools seem very low. One solution to this is provided by the <tt>JodaBeanTests</tt> class which provides methods to artificially provide test coverage. Of course, this can be used for good or evil! The intention is that it is used to highlight those parts of the codebase that really do need tests, not to stop you needing tests at all.</p>
</div> 
<div class="section"> 
 <h2 id="Links">Links</h2> 
 <p>Return to the <a href="userguide.html">main user guide</a>.</p>
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Documentation</li>
						<li >
							<a href="index.html" title="Home">Home</a>
						</li>
						<li >
							<a href="userguide.html" title="User guide">User guide</a>
						</li>
						<li >
							<a href="related.html" title="Related projects">Related projects</a>
						</li>
						<li >
							<a href="apidocs/index.html" title="Javadoc">Javadoc</a>
						</li>
						<li >
							<a href="licensecover.html" title="License">License</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Releases</li>
						<li >
							<a href="changes-report.html" title="Release notes">Release notes</a>
						</li>
						<li >
							<a href="dependency-info.html" title="Dependency info">Dependency info</a>
						</li>
						<li >
							<a href="download.html" title="Download">Download</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Development</li>
						<li >
							<a href="https://github.com/JodaOrg/joda-beans" title="GitHub" class="externalLink">GitHub</a>
						</li>
						<li >
							<a href="https://github.com/JodaOrg/joda-beans/issues" title="Bugs/Issues" class="externalLink">Bugs/Issues</a>
						</li>
						<li >
							<a href="surefire-report.html" title="Test results">Test results</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Reports</li>
						<li >
							<a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
						</li>
						<li >
							<a href="project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote>Beans and Properties for Java</blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2007-2017 <a href="http://www.joda.org">Joda.org</a>. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 2.0. </span><span class="publishDate">Last Published: 2017-09-20. </span></p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>

	<script src="./js/reflow-skin.js"></script>

	</body>
</html>

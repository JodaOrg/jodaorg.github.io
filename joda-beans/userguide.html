
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2017-01-23
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Joda-Beans &#x2013; User guide</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://netdna.bootstrapcdn.com/bootswatch/2.3.2/cosmo/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="./css/bootswatch.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />

		<link href="http://yandex.st/highlightjs/7.5/styles/github.min.css" rel="stylesheet" />


		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css"/>
<link rel="author" href="https://plus.google.com/113137868744510231215"/>
		<!-- Google Analytics -->
		<script type="text/javascript">

			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-1425975-4']);
			_gaq.push(['_trackPageview']);

			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();

		</script>
		</head>

	<body class="page-userguide project-joda-beans" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="index.html">Joda-Beans</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="index.html" title="Home">Home</a></li>
									<li class="active"><a href="" title="User guide">User guide</a></li>
									<li ><a href="related.html" title="Related projects">Related projects</a></li>
									<li ><a href="apidocs/index.html" title="Javadoc">Javadoc</a></li>
									<li ><a href="licensecover.html" title="License">License</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Releases <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="changes-report.html" title="Release notes">Release notes</a></li>
									<li ><a href="dependency-info.html" title="Dependency info">Dependency info</a></li>
									<li ><a href="download.html" title="Download">Download</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Development <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="https://github.com/JodaOrg/joda-beans" title="GitHub" class="externalLink">GitHub</a></li>
									<li ><a href="https://github.com/JodaOrg/joda-beans/issues" title="Bugs/Issues" class="externalLink">Bugs/Issues</a></li>
									<li ><a href="surefire-report.html" title="Test results">Test results</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Joda <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../" title="Home">Home</a></li>
									<li ><a href="../joda-convert/" title="Convert">Convert</a></li>
									<li ><a href="../joda-money/" title="Money">Money</a></li>
									<li ><a href="../joda-time/" title="Time">Time</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<div class="section"> 
 <h2 id="User_guide">User guide</h2> 
 <p>Joda-Beans is a small library that adds properties to the Java programming language. It consists of these main parts:</p> 
 <ul> 
  <li>a set of interfaces and classes that define a property</li> 
  <li>a source <a href="userguide-codegen.html">code generator</a></li> 
  <li><a href="userguide-serialization.html">serialization and deserialization</a> via JSON, XML and MsgPack binary</li> 
  <li>integration with other technologies</li> 
 </ul> 
 <p>The main rationale for the project is to raise the abstraction level of Java development. Most mainstream languages have some kind of support for properties, unfortunately Java does not. The benefits of the Joda-Beans approach mostly apply when using the code generator:</p> 
 <ul> 
  <li>easy to write common utilities acting on arbitrary beans without using reflection</li> 
  <li>no need to manually write getters, setters, equals, hashCode, toString</li> 
  <li>simple way to create immutable beans</li> 
  <li>effective and simple round-trip serialization and deserialization</li> 
 </ul>
</div> 
<div class="section"> 
 <h2 id="Bean_and_Property_model">Bean and Property model</h2> 
 <p>The Joda-Bean API is based around a model of properties in the Java programming language.</p> 
 <p>All beans implement the <a href="apidocs/org/joda/beans/Bean.html">Bean</a> interface. This defines a minimal API for all beans, providing the ability to obtain the property names and a named property. The interface also provides access to the <i>meta-bean</i>.</p> 
 <p>The <a href="apidocs/org/joda/beans/MetaBean.html">MetaBean</a> interface defines the meta-bean. The “meta” name indicates that this is a higher level description of the bean itself. In fact, the meta-bean is the equivalent to <tt>java.lang.Class</tt> for beans - there is only one meta-bean object for all instances of the bean. The meta-bean API provides access to the name of the bean, it’s type, a builder and the <i>meta-properties</i>.</p> 
 <p>The <a href="apidocs/org/joda/beans/MetaProperty.html">MetaProperty</a> interface is the main definition of a property. It is at the “meta” level, describing the property without holding a references to any specific instance of a bean. As such, it is effectively the equivalent to <tt>java.lang.reflect.Field</tt> for a single property on a bean - there is only one meta-property object for all instances of the property. The meta-property API provides access to the name of the property, it’s type, any declared annotations and whether it is read-write or read-only. It also include methods to get and set the value, which require the bean to be passed in just like <tt>java.lang.reflect.Field</tt>.</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>  Bean person = new Person();
  MetaProperty&lt;String&gt; surnameMetaProperty = bean.metaBean().metaProperty(&quot;surname&quot;);
  String surname = surnameMetaProperty.get(person);
</pre>
  </div>
 </div> 
 <p>The bean itself also provides access to instances of the <a href="apidocs/org/joda/beans/Property.html">Property</a> interface for each property. Each property object is a simple combination of the bean and the meta-property. This means that there are simple methods to get and set the value of the property which directly affect the underlying bean. The property also provides methods to get the property name, the underlying bean and the meta-property.</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>  Bean person = new Person();
  Property&lt;String&gt; surnameProperty = bean.property(&quot;surname&quot;);
  String surname = surnameProperty.get();
</pre>
  </div>
 </div> 
 <div class="section"> 
  <h3 id="Use_in_an_application">Use in an application</h3> 
  <p>Applications can use Joda-Beans properties in many ways, revolving around passing a single property of an object to another method. For example, it would be possible to write a validating method that checked the validity of a single property, but perhaps registered errors on the underlying bean.</p>
 </div> 
 <div class="section"> 
  <h3 id="Use_in_a_framework">Use in a framework</h3> 
  <p>Joda-Beans is designed to work well with frameworks which need dynamic access to the properties of a bean. It is recommended when working with a framework to primarily use the meta-bean and associated meta-properties. This is because they tend to be singletons and more efficient than using the property objects. The meta-property API is also more comprehensive than the property API.</p> 
  <p>Beans are normal Java objects and can be created from scratch using constructors. Frameworks may wish to use the <a href="apidocs/org/joda/beans/BeanBuilder.html">BeanBuilder</a> interface which provides a standard way to build the bean. The builder is obtained from the meta-bean. Each property is then set before calling <tt>build</tt>.</p> 
  <p>A selection of utilities is available on <a href="apidocs/org/joda/beans/JodaBeanUtils.html">JodaBeanUtils</a>. This includes the ability to lookup a meta-bean from a <tt>java.lang.Class</tt>, access to the Joda-Convert string converter and methods to extract the types of lists and maps using reflection on generics.</p> 
  <p>The access to the field-level annotations provided by the meta-property is also useful to framework writers.</p>
 </div> 
 <div class="section"> 
  <h3 id="Joda-Convert_integration">Joda-Convert integration</h3> 
  <p>A Joda-Beans meta-property provides the ability to set a property from a string. The conversion between the string and the type of the property, such as <tt>int</tt> or <tt>URI</tt>, is handled by <a class="externalLink" href="http://www.joda.org/joda-convert/">Joda-Convert</a>. The converter can be customised, and is exposed by <tt>JodaBeanUtils</tt>.</p> 
  <p>When iterating over a bean object graph, being able to determine which objects are “leaves”, the simple types that have a direct string representation, is a very useful ability.</p>
 </div> 
 <div class="section"> 
  <h3 id="Finding_the_generic_type_parameters_of_a_property">Finding the generic type parameters of a property</h3> 
  <p>The Java bytecode format contains more details about generic types than is often realised. The <tt>JodaBeanUtils</tt> methods <tt>collectionType()</tt>, <tt>mapKeyType()</tt> and <tt>mapValueType()</tt> allow the generic parameter type of a property to be extracted. Thus an application can tell that a property is of type <tt>List&lt;String&gt;</tt>, not just <tt>List</tt>.</p>
 </div> 
 <div class="section"> 
  <h3 id="Iterating_over_a_bean_object_graph">Iterating over a bean object graph</h3> 
  <p>The <tt>JodaBeanUtils</tt> class contains the method <tt>beanIterator()</tt>. This provides a simple mechanism to iterate over all the beans within a bean.</p> 
  <p>The iteration is depth-first, and handles collections, and collections within collections. Note however that there is no protection against cycles in the object graph, thus the method is only fully safe when using immutable beans.</p> 
  <div class="source"> 
   <div class="source"> 
    <pre> for (Bean bean : JodaBeanUtils.beanIterator(rootBean)) {
   // perform logic on each bean in the object graph
 }
</pre>
   </div>
  </div>
 </div> 
 <div class="section"> 
  <h3 id="Chained_access">Chained access</h3> 
  <p>Joda-Beans provides the ability to chain properties together using <a href="apidocs/org/joda/beans/query/ChainedBeanQuery.html">ChainedBeanQuery</a>. This is an immutable class that allows a list of “queries” to be passed in.</p> 
  <p>Each query is an instance of <a href="apidocs/org/joda/beans/BeanQuery.html">BeanQuery</a>. All meta-properties implement this interface, thus they can be passed directly to <tt>ChainedBeanQuery</tt>.</p> 
  <p>This feature allows the value of a nested property to be queried from the parent bean. For example, these two code sequences are equivalent - obviously the second would only be used within a framework where the query setup was separate from the actual query.</p> 
  <div class="source"> 
   <div class="source"> 
    <pre> String city = document.getPerson().getAddress().getCity()
 
 ChainedBeanQuery&lt;String&gt; query = ChainedBeanQuery.of(Document.meta().person(), Person.meta().address(), Address.meta().city());
 String city = query.get(document);
</pre>
   </div>
  </div>
 </div>
</div> 
<div class="section"> 
 <h2 id="Code_generation">Code generation</h2> 
 <p>It is entirely possible to write a Joda-Bean by hand - the design utilises simple Java interfaces. Most users choose to code generate beans however. For information on code generation, see the <a href="userguide-codegen.html">code generation user guide</a>.</p>
</div> 
<div class="section"> 
 <h2 id="Serialization">Serialization</h2> 
 <p>One of the benefits of a bean and property system is that serialization code becomes much simpler. For information on serialization in XML, JSON and binary, see the <a href="userguide-serialization.html">serialization user guide</a>.</p>
</div> 
<div class="section"> 
 <h2 id="Integration">Integration</h2> 
 <p>Joda-Beans has been integrated with Freemarker, MongoDB and Kryo. The integration support classes are included in the jar file but only work when the optional dependency is present. Note that it is entirely valid to use Joda-Beans without additional jar file dependencies apart from Joda-Convert.</p> 
 <p>The beans are also widely use in the <a class="externalLink" href="http://strata.opengamma.io/">Strata</a> market risk project.</p>
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Documentation</li>
						<li >
							<a href="index.html" title="Home">Home</a>
						</li>
						<li class="active">
							<a href="#" title="User guide">User guide</a>
						</li>
						<li >
							<a href="related.html" title="Related projects">Related projects</a>
						</li>
						<li >
							<a href="apidocs/index.html" title="Javadoc">Javadoc</a>
						</li>
						<li >
							<a href="licensecover.html" title="License">License</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Releases</li>
						<li >
							<a href="changes-report.html" title="Release notes">Release notes</a>
						</li>
						<li >
							<a href="dependency-info.html" title="Dependency info">Dependency info</a>
						</li>
						<li >
							<a href="download.html" title="Download">Download</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Development</li>
						<li >
							<a href="https://github.com/JodaOrg/joda-beans" title="GitHub" class="externalLink">GitHub</a>
						</li>
						<li >
							<a href="https://github.com/JodaOrg/joda-beans/issues" title="Bugs/Issues" class="externalLink">Bugs/Issues</a>
						</li>
						<li >
							<a href="surefire-report.html" title="Test results">Test results</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Reports</li>
						<li >
							<a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
						</li>
						<li >
							<a href="project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote>Beans and Properties for Java</blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2007-2017 <a href="http://www.joda.org">Joda.org</a>. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 1.10.1. </span><span class="publishDate">Last Published: 2017-01-23. </span></p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>

	<script src="./js/reflow-skin.js"></script>

	</body>
</html>

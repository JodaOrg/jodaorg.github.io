<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2014-03-04 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Joda-Time-JspTags - 
  Java date and time API - JSP tags - User Guide</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Jim Newsham" />
      <meta name="author" content="Stephen Colebourne" />
    <meta name="Date-Revision-yyyymmdd" content="20140304" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href="../" id="bannerLeft">
                Joda.org
                </a>
                                            <a href="./" id="bannerRight">
                Joda-Time-JspTags
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="projectVersion">Version: 1.2-SNAPSHOT</span>
              </div>
            <div class="xright">                    <a href="../joda-time/" title="Joda-Time">Joda-Time</a>
            |
                        <a href="./" title="JSP tags">JSP tags</a>
            |
                        <a href="../joda-time-hibernate/" title="Hibernate">Hibernate</a>
            |
                        <a href="../joda-time-i18n/" title="I18N">I18N</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Joda-Time-JspTags</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
            <strong>User guide</strong>
          </li>
                  <li class="none">
                          <a href="apidocs/index.html" title="Javadoc">Javadoc</a>
            </li>
                  <li class="none">
                          <a href="licensecover.html" title="License">License</a>
            </li>
                  <li class="none">
                          <a href="changes-report.html" title="Release notes">Release notes</a>
            </li>
                  <li class="none">
                          <a href="download.html" title="Download">Download</a>
            </li>
          </ul>
                       <h5>Development</h5>
                  <ul>
                  <li class="none">
                          <a href="https://github.com/JodaOrg/joda-time-jsptags" class="externalLink" title="GitHub">GitHub</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/JodaOrg/joda-time-jsptags/issues" class="externalLink" title="Bugs/Issues">Bugs/Issues</a>
            </li>
                  <li class="none">
                          <a href="surefire-report.html" title="Test results">Test results</a>
            </li>
          </ul>
                       <h5>Joda</h5>
                  <ul>
                  <li class="none">
                          <a href=".." title="Joda home">Joda home</a>
            </li>
                  <li class="none">
                          <a href="../joda-beans/" title="Beans">Beans</a>
            </li>
                  <li class="none">
                          <a href="../joda-collect/" title="Collect">Collect</a>
            </li>
                  <li class="none">
                          <a href="../joda-convert/" title="Convert">Convert</a>
            </li>
                  <li class="none">
                          <a href="../joda-money/" title="Money">Money</a>
            </li>
                  <li class="none">
                          <a href="../joda-primitives/" title="Primitives">Primitives</a>
            </li>
                  <li class="none">
                          <a href="../joda-time/" title="Time">Time</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                          <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                                                                                                                               <a href="http://maven.apache.org/" title="Maven" class="poweredBy">
        <img class="poweredBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"     />
      </a>
                                                                                                                      <a href="https://github.com/JodaOrg/joda-time-jsptags" title="GitHub" class="poweredBy">
        <img class="poweredBy"  alt="GitHub" src="../images/github.png"     />
      </a>
                       
                    
                <div id="lastPublished">
        <span id="publishDate">Last Published: 2014-03-04</span>
              </div>
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
 

<!-- ========================================================================= -->

<div class="section">
<h2>Introduction<a name="Introduction"></a></h2>

<p>
<a class="externalLink" href="http://www.joda.org/joda-time/">Joda-Time</a> JSP tags provide a JSTL-like set of tags to format and parse
Joda-Time based date and time objects.
</p>

<p>
The JSTL fmt tags work with java.util.Date and java.util.TimeZone objects.
The tags in this library work with Joda-Time DateTime, ReadableInstant,
ReadablePartial, and DateTimeZone objects.
Otherwise, the two libraries are very similar, thus you can refer to standard
JSTL books and documentation to supplement this document.
</p>

<!-- ========================================================================= -->


<div class="section">
<h3>Setup<a name="Setup"></a></h3>

<p>
You will need a servlet container which supports Servlet 2.4, JSP 2.0, JSTL 1.1.
One such container is <a class="externalLink" href="http://tomcat.apache.org">Tomcat 5</a>.
</p>

<p>
The simplest setup is to copy the joda-time and joda-time-jsptags jar files
to the WEB-INF/lib directory of your web application.
</p>

<p>
You then need to declare the library as follows at the top of your jsp pages:
</p>
<div class="source">
<pre>
&lt;%@taglib prefix=&quot;joda&quot; uri=&quot;http://www.joda.org/joda/time/tags&quot; %&gt;
</pre></div>


<p>
In addition to these steps you should ensure that your application is using
servlet specification 2.4. This is usually controlled by the web.xml file.
If you do not do this then EL expressions will not work as expected.
</p>
</div>
</div>

<!-- ========================================================================= -->


<div class="section">
<h2>Format tag<a name="Format_tag"></a></h2>

<p>
This tag formats ReadableInstant (including DateTime) and ReadablePartial
(including LocalDateTime, LocalDate and LocalTime) objects.
The time zone may be specified using an attribute, an enclosing &lt;joda:dateTimeZone/&gt; tag,
preceding &lt;joda:timeZone/&gt; tag, or via the &quot;org.joda.time.dateTimeZone&quot; scoped variable.
</p>

<p>
The tag may be used in one of two ways.
The simplest way is to output directly to the HTTP response.
The second way is to set the var and scope attributes and set the value of a variable.
</p>

<p>
Example: 
</p>
<div class="source">
<pre>
  &lt;% pageContext.setAttribute(&quot;now&quot;, new org.joda.time.DateTime()); %&gt;
  &lt;joda:format value=&quot;${now}&quot; style=&quot;SM&quot; /&gt;
</pre></div>


<p>
</p>
<table border="0" class="bodyTable">

<tr class="a">
 
<th colspan="2">Attributes</th>
</tr>

<tr class="b">
 
<td>value (required)</td>
 
<td>Must be a ReadableInstant or ReadablePartial</td>
</tr>

<tr class="a">
 
<td>var</td>
 
<td>The scoped variable to set</td>
</tr>

<tr class="b">
 
<td>scope</td>
 
<td>The scope of the variable to set</td>
</tr>

<tr class="a">
 
<td>locale</td>
 
<td>The locale to use for formatting</td>
</tr>

<tr class="b">
 
<td>style</td>
 
<td>The style to use for formatting (two characters, one for date, one for time, from S=Short, M=Medium, L=Long, F=Full, -=None)</td>
</tr>

<tr class="a">
 
<td>pattern</td>
 
<td>The pattern to use for formatting (see Joda format documentation for recognized pattern strings)</td>
</tr>

<tr class="b">
 
<td>dateTimeZone</td>
 
<td>The time zone to use for formatting</td>
</tr>
</table>

</div>

<!-- ========================================================================= -->


<div class="section">
<h2>ParseDateTime tag<a name="ParseDateTime_tag"></a></h2>

<p>
This tag parses a String into a DateTime object.
The time zone may be specified using an attribute, an enclosing &lt;joda:dateTimeZone/&gt; tag,
preceding &lt;joda:timeZone/&gt; tag, or via the &quot;org.joda.time.dateTimeZone&quot; scoped variable.
</p>

<p>
The tag may be used in one of two ways.
The simplest way is to parse the input and then directly format the output to the HTTP response.
The second way, and more usual way, is to set the var and scope attributes and
set the value of a variable with the results of the parse.
</p>

<p>
Example: 
</p>
<div class="source">
<pre>
  &lt;joda:parseDateTime var=&quot;parsed&quot; pattern=&quot;yy/M/d&quot; value=&quot;05/11/19&quot; /&gt;
  &lt;joda:format value=&quot;${parsed}&quot; style=&quot;L-&quot; /&gt;
</pre></div>


<p>
</p>
<table border="0" class="bodyTable">

<tr class="a">
 
<th colspan="2">Attributes</th>
</tr>

<tr class="b">
 
<td>value (required; unless value is nested within tag)</td>
 
<td>Must be a string which can be parsed into a DateTime according to the parsing options specified</td>
</tr>

<tr class="a">
 
<td>var</td>
 
<td>The scoped variable to set</td>
</tr>

<tr class="b">
 
<td>scope</td>
 
<td>The scope of the variable to set</td>
</tr>

<tr class="a">
 
<td>locale</td>
 
<td>The locale to use for parsing</td>
</tr>

<tr class="b">
 
<td>style</td>
 
<td>The style to use for parsing (two characters, one for date, one for time, from S=Short, M=Medium, L=Long, F=Full, -=None)</td>
</tr>

<tr class="a">
 
<td>pattern</td>
 
<td>The pattern to use for parsing (see Joda format documentation for recognized pattern strings)</td>
</tr>

<tr class="b">
 
<td>dateTimeZone</td>
 
<td>The time zone to use for parsing</td>
</tr>
</table>

</div>

<!-- ========================================================================= -->


<div class="section">
<h2>DateTimeZone tag<a name="DateTimeZone_tag"></a></h2>

<p>
This tag sets the default time zone to use for all nested tags.
The &lt;joda:format /&gt; tag may override this value with an explicit dateTimeZone attribute.
</p>

<p>
Example: 
</p>
<div class="source">
<pre>
  &lt;% pageContext.setAttribute(&quot;now&quot;, new DateTime()); %&gt;
  &lt;% pageContext.setAttribute(&quot;bkk&quot;, DateTimeZone.forID(&quot;Asia/Bangkok&quot;)); %&gt;
  &lt;joda:dateTimeZone value=&quot;${bkk}&quot;&gt;
    &lt;joda:format value=&quot;${datetime}&quot; /&gt;
  &lt;/joda:dateTimeZone&gt;
</pre></div>


<p>
</p>
<table border="0" class="bodyTable">

<tr class="a">
 
<th colspan="2">Attributes</th>
</tr>

<tr class="b">
 
<td>value (required)</td>
 
<td>Must be a DateTimeZone object, or an id of a zone</td>
</tr>
</table>

</div>

<!-- ========================================================================= -->


<div class="section">
<h2>SetDateTimeZone tag<a name="SetDateTimeZone_tag"></a></h2>

<p>
This tag sets the default time zone, either for the remainder of the page, or to a variable.
If var is not specified, the zone will be stored in a scoped variable called &quot;org.joda.time.dateTimeZone&quot;.
This acts as a default for all the other tags.
It will be overridden by a &lt;joda:datetimezone /&gt; tag, or by
an explicit dateTimeZone attribute on &lt;joda:format /&gt;.
</p>

<p>
Example: 
</p>
<div class="source">
<pre>
  &lt;% pageContext.setAttribute(&quot;now&quot;, new DateTime()); %&gt;
  &lt;% pageContext.setAttribute(&quot;bkk&quot;, DateTimeZone.forID(&quot;Asia/Bangkok&quot;)); %&gt;
  &lt;joda:dateTimeZone value=&quot;${bkk}&quot; /&gt;
  &lt;joda:format value=&quot;${datetime}&quot; /&gt;
</pre></div>


<p>
</p>
<table border="0" class="bodyTable">

<tr class="a">
 
<th colspan="2">Attributes</th>
</tr>

<tr class="b">
 
<td>value (required)</td>
 
<td>Must be a DateTimeZone object, or an id of a zone</td>
</tr>

<tr class="a">
 
<td>var</td>
 
<td>The scoped variable to set</td>
</tr>

<tr class="b">
 
<td>scope</td>
 
<td>The scope of the variable to set</td>
</tr>
</table>

</div>

<!-- ========================================================================= -->



      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2005-2014
                        <a href="http://www.joda.org">Joda.org</a>.
            All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>

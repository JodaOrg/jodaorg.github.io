<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2013-08-19 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Joda-Time-Hibernate - 
  Java date and time API - Hibernate support - User Guide</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Stephen Colebourne" />
    <meta name="Date-Revision-yyyymmdd" content="20130819" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href="../" id="bannerLeft">
                Joda.org
                </a>
                                            <a href="../joda-time-jsptags/" id="bannerRight">
                Joda-Time-Hibernate
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="projectVersion">Version: 1.4-SNAPSHOT</span>
              </div>
            <div class="xright">                    <a href="../joda-time/" title="Joda-Time">Joda-Time</a>
            |
                        <a href="../joda-time-jsptags/" title="JSP tags">JSP tags</a>
            |
                        <a href="./" title="Hibernate">Hibernate</a>
            |
                        <a href="../joda-time-i18n/" title="I18N">I18N</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Joda-Time-Hibernate</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
            <strong>User guide</strong>
          </li>
                  <li class="none">
                          <a href="apidocs/index.html" title="Javadoc">Javadoc</a>
            </li>
                  <li class="none">
                          <a href="licensecover.html" title="License">License</a>
            </li>
                  <li class="none">
                          <a href="changes-report.html" title="Release notes">Release notes</a>
            </li>
                  <li class="none">
                          <a href="download.html" title="Download">Download</a>
            </li>
          </ul>
                       <h5>Development</h5>
                  <ul>
                  <li class="none">
                          <a href="https://github.com/JodaOrg/joda-time-hibernate" class="externalLink" title="GitHub">GitHub</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/JodaOrg/joda-time-hibernate/issues" class="externalLink" title="Bugs/Issues">Bugs/Issues</a>
            </li>
                  <li class="none">
                          <a href="surefire-report.html" title="Test results">Test results</a>
            </li>
          </ul>
                       <h5>Joda</h5>
                  <ul>
                  <li class="none">
                          <a href=".." title="Joda home">Joda home</a>
            </li>
                  <li class="none">
                          <a href="../joda-beans/" title="Beans">Beans</a>
            </li>
                  <li class="none">
                          <a href="../joda-convert/" title="Convert">Convert</a>
            </li>
                  <li class="none">
                          <a href="../joda-money/" title="Money">Money</a>
            </li>
                  <li class="none">
                          <a href="../joda-primitives/" title="Primitives">Primitives</a>
            </li>
                  <li class="none">
                          <a href="../joda-time/" title="Time">Time</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                          <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                                                                                                                               <a href="http://maven.apache.org/" title="Maven" class="poweredBy">
        <img class="poweredBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"     />
      </a>
                                                                                                                      <a href="https://github.com/JodaOrg/joda-time-hibernate" title="GitHub" class="poweredBy">
        <img class="poweredBy"  alt="GitHub" src="../images/github.png"     />
      </a>
                       
                    
                <div id="lastPublished">
        <span id="publishDate">Last Published: 2013-08-19</span>
              </div>
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
 

<!-- ========================================================================= -->

<div class="section">
<h2>Introduction<a name="Introduction"></a></h2>

<p>
Joda-Time-Hibernate support provides classes to
persist Joda-Time based date and time objects to a database using Hibernate.
</p>

<!-- ========================================================================= -->


<div class="section">
<h3>Documentation<a name="Documentation"></a></h3>

<p>
    It is fairly easy to use this package in your Hibernate environment.
    There are two main options for the configuration - the hibernate mapping file or annotations.
</p>

    </div>
<div class="section">
<h3>Hibernate mapping<a name="Hibernate_mapping"></a></h3>
        
<p>
        Add the <tt>type</tt> attribute to your property configuration. e.g.:
        </p>
        
<div>
<pre>
&lt;property type=&quot;org.joda.time.contrib.hibernate.PersistentDateTime&quot; name=&quot;dateTime&quot;/&gt;
        </pre></div>
    </div>

    
<div class="section">
<h3>Hibernate annotations<a name="Hibernate_annotations"></a></h3>
        
<p>
        Set the type using the <tt>@org.hibernate.annotations.Type</tt> annotation. e.g.:
        </p>
        
<div>
<pre>
@Column
@Type(type=&quot;org.joda.time.contrib.hibernate.PersistentDateTime&quot;)
private DateTime fromDate;
        </pre></div>
        
<p>
        Sometimes there are multiple columns to be specified, as with <tt>PersistentDateTimeTZ</tt>:
        </p>
        
<div>
<pre>
@Columns(columns={@Column(name=&quot;startTime&quot;),@Column(name=&quot;startTimezone&quot;)})
@Type(type=&quot;org.joda.time.contrib.hibernate.PersistentDateTimeTZ&quot;)
private DateTime startDateTime;
        </pre></div>
    </div>

    
<div class="section">
<h3>Available Types<a name="Available_Types"></a></h3>
        
<p>
            The main types which can be persisted:
        </p>
        
<table border="0" class="bodyTable">
            
<tr class="a">
                
<th>Class</th>
                
<th>SQL Column Type(s)</th>
                
<th>Description</th>
            </tr>
            
<tr class="b">
                
<td>org.joda.time.contrib.hibernate.PersistentDateTime</td>
                
<td>TIMESTAMP</td>
                
<td></td>
            </tr>
            
<tr class="a">
                
<td>org.joda.time.contrib.hibernate.PersistentDateTimeTZ</td>
                
<td>TIMESTAMP, VARCHAR</td>
                
<td>This persister uses two columns, to separately store the time value and its timezone</td>
            </tr>
            
<tr class="b">
                
<td>org.joda.time.contrib.hibernate.PersistentInstant</td>
                
<td>TIMESTAMP</td>
                
<td>This persister uses one column to store the timestamp</td>
            </tr>
            
<tr class="a">
                
<td>org.joda.time.contrib.hibernate.PersistentInstantAsBigInt</td>
                
<td>BIGINT</td>
                
<td>This persister uses one column to store the millisconds</td>
            </tr>
            
<tr class="b">
                
<td>org.joda.time.contrib.hibernate.PersistentInterval</td>
                
<td>TIMESTAMP, TIMESTAMP</td>
                
<td>This persister uses two columns, to store the start and end of the interval</td>
            </tr>
            
<tr class="a">
                
<td>org.joda.time.contrib.hibernate.PersistentLocalDate</td>
                
<td>TIMESTAMP</td>
                
<td></td>
            </tr>
            
<tr class="b">
                
<td>org.joda.time.contrib.hibernate.PersistentLocalTimeAsTime</td>
                
<td>TIME</td>
                
<td>Depending on your Database you might loose the millisecond part</td>
            </tr>
            
<tr class="a">
                
<td>org.joda.time.contrib.hibernate.PersistentLocalTimeAsTimestamp</td>
                
<td>TIMESTAMP</td>
                
<td></td>
            </tr>
            
<tr class="b">
                
<td>org.joda.time.contrib.hibernate.PersistentLocalTimeExact</td>
                
<td>INTEGER</td>
                
<td>The milliseconds are stored as simple integer value, no information loss</td>
            </tr>
            
<tr class="a">
                
<td>org.joda.time.contrib.hibernate.PersistentLocalTimeAsString</td>
                
<td>VARCHAR</td>
                
<td>Same as above, just uses a human readable representation. ISO8601 format - HH:mm:ss.SSSZ</td>
            </tr>
            
<tr class="b">
                
<td>org.joda.time.contrib.hibernate.PersistentLocalDateTime</td>
                
<td>TIMESTAMP</td>
                
<td></td>
            </tr>
            
<tr class="a">
                
<td>org.joda.time.contrib.hibernate.PersistentDuration</td>
                
<td>VARCHAR</td>
                
<td>The format is PTnS where n is the value</td>
            </tr>
            
<tr class="b">
                
<td>org.joda.time.contrib.hibernate.PersistentDurationAsMilliseconds</td>
                
<td>BIGINT</td>
                
<td>Integer milliseconds</td>
            </tr>
            
<tr class="a">
                
<td>org.joda.time.contrib.hibernate.PersistentPeriod</td>
                
<td>VARCHAR</td>
                
<td>The format is PnYnMnDTnHnMnS where n is the value</td>
            </tr>
        </table>

    </div>

    
<div class="section">
<h3>Outdated Types<a name="Outdated_Types"></a></h3>
        
<p>
            The following types are now effectively deprecated, however persistence is still available:
        </p>
        
<table border="0" class="bodyTable">
            
<tr class="a">
                
<th>Class</th>
                
<th>SQL Column Type(s)</th>
                
<th>Description</th>
            </tr>
            
<tr class="b">
                
<td>org.joda.time.contrib.hibernate.PersistentTimeOfDay</td>
                
<td>TIME</td>
                
<td>Depending on your Database you might loose the millisecond part</td>
            </tr>
            
<tr class="a">
                
<td>org.joda.time.contrib.hibernate.PersistentTimeOfDayExact</td>
                
<td>INTEGER</td>
                
<td>The milliseconds are stored as simple integer value, no information loss</td>
            </tr>
            
<tr class="b">
                
<td>org.joda.time.contrib.hibernate.PersistentYearMonthDay</td>
                
<td>DATE</td>
                
<td></td>
            </tr>
        </table>
    </div>


</div>

<!-- ========================================================================= -->



      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2005-2013
                        <a href="http://www.joda.org">Joda.org</a>.
            All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
